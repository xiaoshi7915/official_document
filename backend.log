nohup: ignoring input
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
 * Serving Flask app 'main'
 * Debug mode: on
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5003
 * Running on http://192.168.0.31:5003
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
2025-07-24 19:04:21,667 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:04:21,667 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:04:21,978 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:04:21] "GET /api/templates HTTP/1.1" 200 -
2025-07-24 19:04:21,988 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:04:21,988 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:04:22,223 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:04:22] "GET /api/templates HTTP/1.1" 200 -
2025-07-24 19:05:04,866 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:05:04,867 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:05:05,058 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:05:05] "GET /api/templates HTTP/1.1" 200 -
2025-07-24 19:05:50,122 - INFO - 请求: POST /api/rag/generate-with-rag
INFO:backend:请求: POST /api/rag/generate-with-rag
INFO:models.knowledge_management:公文生成记录插入成功: 18
INFO:routes.rag_generation:开始调用AI生成内容
INFO:models.knowledge_management:公文生成记录更新成功: 18
INFO:routes.rag_generation:RAG增强生成成功，记录ID: 18, 耗时: 22秒
2025-07-24 19:06:12,656 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:06:12] "POST /api/rag/generate-with-rag HTTP/1.1" 200 -
2025-07-24 19:06:31,522 - INFO - 请求: POST /api/ai/text-operation
INFO:backend:请求: POST /api/ai/text-operation
INFO:routes.ai_operations:开始执行AI操作: rewrite
ERROR:routes.ai_operations:AI API调用失败: 401 - Authentication Fails (auth header format should be Bearer sk-...)
2025-07-24 19:06:31,583 - INFO - 响应: 500
INFO:backend:响应: 500
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:06:31] "[35m[1mPOST /api/ai/text-operation HTTP/1.1[0m" 500 -
2025-07-24 19:08:19,902 - INFO - 请求: POST /api/upload
INFO:backend:请求: POST /api/upload
2025-07-24 19:08:19,902 - INFO - 接收到文件上传请求
INFO:backend:接收到文件上传请求
2025-07-24 19:08:19,903 - INFO - 上传的文件: 20250717_012325_关于新时代文明实践中心建设进展情况的专题报告 (3).docx
INFO:backend:上传的文件: 20250717_012325_关于新时代文明实践中心建设进展情况的专题报告 (3).docx
2025-07-24 19:08:19,904 - INFO - 解析Word文件
INFO:backend:解析Word文件
2025-07-24 19:08:19,917 - INFO - 文件解析成功，内容长度: 1502
INFO:backend:文件解析成功，内容长度: 1502
2025-07-24 19:08:19,917 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:08:19] "POST /api/upload HTTP/1.1" 200 -
2025-07-24 19:11:50,329 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:11:50,329 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:11:50,513 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:11:50] "GET /api/templates HTTP/1.1" 200 -
2025-07-24 19:13:49,569 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:13:49,569 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:13:49,800 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:13:49] "GET /api/templates HTTP/1.1" 200 -
2025-07-24 19:14:31,374 - INFO - 请求: POST /api/upload
INFO:backend:请求: POST /api/upload
2025-07-24 19:14:31,374 - INFO - 接收到文件上传请求
INFO:backend:接收到文件上传请求
2025-07-24 19:14:31,376 - INFO - 上传的文件: 20250711_154939_关于加强公文写作规范的通知.docx
INFO:backend:上传的文件: 20250711_154939_关于加强公文写作规范的通知.docx
2025-07-24 19:14:31,376 - INFO - 解析Word文件
INFO:backend:解析Word文件
2025-07-24 19:14:31,389 - INFO - 文件解析成功，内容长度: 350
INFO:backend:文件解析成功，内容长度: 350
2025-07-24 19:14:31,390 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:14:31] "POST /api/upload HTTP/1.1" 200 -
2025-07-24 19:16:25,329 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-24 19:16:25,330 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-24 19:16:25,536 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 19:16:25] "GET /api/templates HTTP/1.1" 200 -
ERROR:werkzeug:96.126.104.20 - - [24/Jul/2025 21:59:58] code 400, message Bad HTTP/0.9 request type ("\x16\x03\x01\x00ò\x01\x00\x00î\x03\x03\x9b¢X\x9aö`Ú\\Ø\x8f\x91¹¶ðeÎx]Éü'ê\x80bi<0")
INFO:werkzeug:96.126.104.20 - - [24/Jul/2025 21:59:58] "[35m[1m\x16\x03\x01\x00ò\x01\x00\x00î\x03\x03\x9b¢X\x9aö`Ú\\Ø\x8f\x91¹¶ðeÎx]Éü'ê\x80bi<0 =[0m" HTTPStatus.BAD_REQUEST -
2025-07-24 21:59:58,802 - INFO - 请求: GET /signin
INFO:backend:请求: GET /signin
2025-07-24 21:59:58,803 - INFO - 响应: 404
INFO:backend:响应: 404
INFO:werkzeug:96.126.104.20 - - [24/Jul/2025 21:59:58] "[33mGET /signin HTTP/1.1[0m" 404 -
ERROR:werkzeug:96.126.104.20 - - [25/Jul/2025 01:54:36] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:96.126.104.20 - - [25/Jul/2025 01:54:36] "[35m[1m\x16\x03\x01\x00ò\x01\x00\x00î\x03\x03\x17®áë£\x82\x0dcüG±Úë8\x13[5ÖhÇtþm0\x19\x11J=\x83¾PÇ \x19î8±Ié2²E¤\x8bÈêÛÞµAîsu\x8cÃ\x7f¨\x9a xëMÍ\x80k\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" HTTPStatus.BAD_REQUEST -
2025-07-25 01:54:36,726 - INFO - 请求: GET /signin
INFO:backend:请求: GET /signin
2025-07-25 01:54:36,727 - INFO - 响应: 404
INFO:backend:响应: 404
INFO:werkzeug:96.126.104.20 - - [25/Jul/2025 01:54:36] "[33mGET /signin HTTP/1.1[0m" 404 -
2025-07-25 03:19:59,456 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-25 03:19:59,457 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-25 03:19:59,709 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:19:59] "GET /api/templates HTTP/1.1" 200 -
2025-07-25 03:20:49,722 - INFO - 请求: POST /api/rag/generate-with-rag
INFO:backend:请求: POST /api/rag/generate-with-rag
INFO:models.knowledge_management:公文生成记录插入成功: 19
INFO:routes.rag_generation:开始调用AI生成内容
INFO:models.knowledge_management:公文生成记录更新成功: 19
INFO:routes.rag_generation:RAG增强生成成功，记录ID: 19, 耗时: 20秒
2025-07-25 03:21:10,659 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:21:10] "POST /api/rag/generate-with-rag HTTP/1.1" 200 -
2025-07-25 03:23:31,233 - INFO - 请求: POST /api/generate-title
INFO:backend:请求: POST /api/generate-title
2025-07-25 03:23:35,138 - INFO - 生成标题成功: 关于推进数字化转型工作情况的报告
INFO:backend:生成标题成功: 关于推进数字化转型工作情况的报告
2025-07-25 03:23:35,139 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:23:35] "POST /api/generate-title HTTP/1.1" 200 -
2025-07-25 03:24:26,101 - INFO - 请求: POST /api/generate
INFO:backend:请求: POST /api/generate
2025-07-25 03:24:26,102 - INFO - 接收到生成公文请求
INFO:backend:接收到生成公文请求
2025-07-25 03:24:26,102 - INFO - 模板类型: gongbao, 标题: 关于推进数字化转型工作情况的报告
INFO:backend:模板类型: gongbao, 标题: 关于推进数字化转型工作情况的报告
2025-07-25 03:24:26,442 - INFO - 数据已保存到数据库，ID: 74
INFO:backend:数据已保存到数据库，ID: 74
2025-07-25 03:24:26,442 - INFO - 开始使用模板生成Word文档
INFO:backend:开始使用模板生成Word文档
2025-07-25 03:24:26,511 - INFO - 文档生成成功: /api/download/tmpujn6oe_9.docx
INFO:backend:文档生成成功: /api/download/tmpujn6oe_9.docx
2025-07-25 03:24:26,512 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:24:26] "POST /api/generate HTTP/1.1" 200 -
2025-07-25 03:24:28,187 - INFO - 请求: GET /api/download/tmpujn6oe_9.docx
INFO:backend:请求: GET /api/download/tmpujn6oe_9.docx
2025-07-25 03:24:28,187 - INFO - 请求下载文件: tmpujn6oe_9.docx
INFO:backend:请求下载文件: tmpujn6oe_9.docx
2025-07-25 03:24:28,187 - INFO - 文件存在，准备下载: /tmp/tmpujn6oe_9.docx
INFO:backend:文件存在，准备下载: /tmp/tmpujn6oe_9.docx
2025-07-25 03:24:28,188 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:24:28] "GET /api/download/tmpujn6oe_9.docx HTTP/1.1" 200 -
2025-07-25 03:26:45,200 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-25 03:26:45,200 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-25 03:26:45,482 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:26:45] "GET /api/templates HTTP/1.1" 200 -
2025-07-25 03:27:04,778 - INFO - 请求: GET /api/templates
INFO:backend:请求: GET /api/templates
2025-07-25 03:27:04,778 - INFO - 获取模板列表
INFO:backend:获取模板列表
2025-07-25 03:27:05,055 - INFO - 响应: 200
INFO:backend:响应: 200
INFO:werkzeug:127.0.0.1 - - [25/Jul/2025 03:27:05] "GET /api/templates HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/routes/rag_generation.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/main.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/main.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/main.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/logging_config.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/main.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 145-833-389
INFO:werkzeug: * Detected change in '/opt/official_ai_writer/official_document/backend/main.py', reloading
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:33:56 - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:34:13 - WARNING -  * Debugger is active!
2025-07-25 03:35:17 - INFO - 请求: GET /signin
2025-07-25 03:35:17 - INFO - 请求: GET /signin
2025-07-25 03:35:17 - INFO - 响应: 200
2025-07-25 03:35:24 - INFO - 请求: GET /invalid-path
2025-07-25 03:35:24 - WARNING - 请求的路径不存在: /invalid-path
2025-07-25 03:35:24 - INFO - 响应: 404
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:35:56 - WARNING -  * Debugger is active!
2025-07-25 03:35:56 - INFO - 请求: GET /signin
2025-07-25 03:35:56 - INFO - 请求: GET /signin
2025-07-25 03:35:56 - INFO - 响应: 200
2025-07-25 03:35:56 - INFO - 请求: POST /signin
2025-07-25 03:35:56 - INFO - 请求: POST /signin
2025-07-25 03:35:56 - INFO - 登录请求: 用户 test
2025-07-25 03:35:56 - INFO - 响应: 200
2025-07-25 03:35:56 - INFO - 请求: GET /invalid-path
2025-07-25 03:35:56 - WARNING - 请求的路径不存在: /invalid-path
2025-07-25 03:35:56 - INFO - 响应: 404
2025-07-25 03:35:56 - INFO - 请求: GET /api/templates
2025-07-25 03:35:56 - INFO - 获取模板列表
2025-07-25 03:35:56 - INFO - 响应: 200
2025-07-25 03:37:08 - INFO - 请求: GET /api/templates
2025-07-25 03:37:08 - INFO - 获取模板列表
2025-07-25 03:37:08 - INFO - 响应: 200
2025-07-25 03:38:40 - INFO - 请求: POST /api/rag/generate-outline
2025-07-25 03:38:40 - ERROR - 插入公文生成记录失败: 1265 (01000): Data truncated for column 'generation_method' at row 1
2025-07-25 03:38:40 - INFO - 未提供参考文件，跳过知识库检索
2025-07-25 03:38:40 - INFO - 开始调用AI API生成大纲
2025-07-25 03:39:00 - INFO - 大纲生成成功，耗时: 20.64秒
2025-07-25 03:39:00 - INFO - 响应: 200
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:53:05 - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:53:27 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:53:38 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:53:49 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:53:49 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:53:50 - services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:53:50 - services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:53:50 - services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:53:50 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:53:50 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:54:01 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:01 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:02 - services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:02 - services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:02 - services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:02 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:02 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:02 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:03 - services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:03 - services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:03 - services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:04 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:04 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:54:15 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:15 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:17 - services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:17 - services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:17 - services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:17 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:17 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:17 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:18 - services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:18 - services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:18 - services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:19 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:19 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:54:36 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:36 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:37 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:37 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:37 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:38 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:38 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:38 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:39 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:39 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:39 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:39 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:39 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:54:49 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:49 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:50 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:50 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:50 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:50 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:50 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:54:50 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:52 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:54:52 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:54:52 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:54:52 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:54:52 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:55:06 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:06 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:08 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:08 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:08 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:08 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:08 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:08 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:09 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:09 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:09 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:09 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:09 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:55:38 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:38 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:40 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:40 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:40 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:40 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:40 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:40 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:41 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:41 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:41 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:42 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:42 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:55:49 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:49 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:51 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:51 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:51 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:51 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:51 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:55:51 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:52 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:55:52 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:55:52 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:55:52 - models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:55:52 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:56:00 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:00 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:01 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:01 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:01 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:02 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:02 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:02 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:03 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:03 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:03 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:03 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:03 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:56:11 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:11 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:13 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:13 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:13 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:13 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:13 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:13 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:14 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:14 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:14 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:15 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:15 - werkzeug - WARNING -  * Debugger is active!
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
当前使用的SQLite版本: 3.46.1
✓ 已切换到pysqlite3
当前使用的SQLite版本: 3.46.1
启动公文生成系统后端服务...
数据库配置: 47.118.250.53
DeepSeek API配置: 已配置
INFO:werkzeug: * Restarting with stat
2025-07-25 03:56:22 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:22 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:23 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:23 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:23 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:24 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:24 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 03:56:24 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:25 - backend.services.vector_service - INFO - 使用本地嵌入模型: /opt/official_ai_writer/official_document/models/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
2025-07-25 03:56:25 - backend.services.vector_service - INFO - 获取现有集合: knowledge_chunks
2025-07-25 03:56:25 - backend.services.vector_service - INFO - 向量数据库服务初始化成功
2025-07-25 03:56:25 - backend.models.knowledge_management - INFO - 知识库管理数据库表创建成功
2025-07-25 03:56:25 - werkzeug - WARNING -  * Debugger is active!
2025-07-25 03:59:05 - backend.app - INFO - 请求: GET /signin
2025-07-25 03:59:05 - backend.app - INFO - 请求: GET /signin
2025-07-25 03:59:05 - backend.app - INFO - 响应: 200
2025-07-25 03:59:05 - backend.app - INFO - 请求: POST /signin
2025-07-25 03:59:05 - backend.app - INFO - 请求: POST /signin
2025-07-25 03:59:05 - backend.app - INFO - 登录请求: 用户 test
2025-07-25 03:59:05 - backend.app - INFO - 响应: 200
2025-07-25 03:59:05 - backend.app - INFO - 请求: GET /invalid-path
2025-07-25 03:59:05 - backend.app - WARNING - 请求的路径不存在: /invalid-path
2025-07-25 03:59:05 - backend.app - INFO - 响应: 404
2025-07-25 03:59:05 - backend.app - INFO - 请求: GET /api/templates
2025-07-25 03:59:05 - backend.app - INFO - 获取模板列表
2025-07-25 03:59:05 - backend.app - INFO - 响应: 200
2025-07-25 04:02:07 - backend.app - INFO - 请求: GET /api/templates
2025-07-25 04:02:07 - backend.app - INFO - 获取模板列表
2025-07-25 04:02:07 - backend.app - INFO - 响应: 200
2025-07-25 04:03:07 - backend.app - INFO - 请求: GET /api/templates
2025-07-25 04:03:07 - backend.app - INFO - 获取模板列表
2025-07-25 04:03:08 - backend.app - INFO - 响应: 200
2025-07-25 04:03:47 - backend.app - INFO - 请求: GET /api/templates
2025-07-25 04:03:47 - backend.app - INFO - 获取模板列表
2025-07-25 04:03:47 - backend.app - INFO - 响应: 200
